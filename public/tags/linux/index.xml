<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Linux - Tag - LexusLee&#39;s blog</title>
        <link>https://example.com/tags/linux/</link>
        <description>Linux - Tag - LexusLee&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>lexuscyborg103@gmail.com (LexusLee)</managingEditor>
            <webMaster>lexuscyborg103@gmail.com (LexusLee)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 13 Feb 2022 21:55:54 &#43;0800</lastBuildDate><atom:link href="https://example.com/tags/linux/" rel="self" type="application/rss+xml" /><item>
    <title>è®°ä¸€æ¬¡ k8s apiserver watch hang é—®é¢˜æ’æŸ¥</title>
    <link>https://example.com/k8s-api-watch-hang-dignosis/</link>
    <pubDate>Sun, 13 Feb 2022 21:55:54 &#43;0800</pubDate>
    <author>Author</author>
    <guid>https://example.com/k8s-api-watch-hang-dignosis/</guid>
    <description><![CDATA[Lexus Lee è®°ä¸€æ¬¡ k8s apiserver watch hang é—®é¢˜æ’æŸ¥ é—®é¢˜èƒŒæ™¯ æ³¨ğŸ“¢: æœ¬æ–‡ä¸­æ¶‰åŠ apiserver åœ°å€å’Œ ingressgateway åœ°å€, ä¸ºè„±æ•å¤„ç†, å°†ä¼šåšé©¬èµ›å…‹å¤„ç†ï¼ï¼ï¼
ä¼ ç»Ÿçš„ kubernetes apiserver è¯·æ±‚è®¿é—®é“¾è·¯ä¸ºå®¢æˆ·ç«¯ç›´è¿ apiserverï¼Œä¸ºäº†åš apiserver é«˜å¯ç”¨ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šç»™ apiserver å‰ç«¯å†å¥—ä¸€å±‚4å±‚æˆ–7å±‚ä»£ç†åšå¤šä¸ª apiserver å®ä¾‹çš„è´Ÿè½½å‡è¡¡ã€‚
åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸‹ï¼Œä½¿ç”¨äº† istio çš„ ingressgateway ä½œä¸º client -&gt; apiserver è¿™æ¡é“¾è·¯ä¸­çš„7å±‚ä»£ç†ã€‚é“¾è·¯å˜æˆäº† client -&gt; ingressgateway -&gt; apiserver ï¼Œgateway æš´éœ² 80 ç«¯å£ä¾›å®¢æˆ·ç«¯è®¿é—®, åŒæ—¶é€šè¿‡ istio virtualService + destinationRule è§„åˆ™é…ç½® gateway èƒ½é€šè¿‡åŸŸåè®¿é—®åˆ° apiserver 6443 ç«¯å£ï¼Œä»è€Œå®ç°æµé‡è·¯ç”±ã€‚
å…·ä½“é“¾è·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ
åœ¨è¿™æ ·çš„é“¾è·¯ä¸‹ï¼Œæˆ‘ä»¬é‡åˆ°äº†å¦‚ä¸‹é—®é¢˜ï¼Œ
åœ¨ k8s apiserver 1.18 ç‰ˆæœ¬çš„é›†ç¾¤åœ¨æ»šåŠ¨é‡å¯è¿‡å‡ºç°éƒ¨åˆ†ç»„ä»¶æ— æ³• watch åˆ°äº‹ä»¶çš„æƒ…å†µï¼Œå®¢æˆ·ç«¯ watch è¯·æ±‚å¶å‘ 503ã€‚éœ€è¦é‡å¯ç»„ä»¶ï¼Œé‡å»º watch è¿æ¥æ‰èƒ½æ¢å¤ã€‚]]></description>
</item><item>
    <title>ã€Šå®¹å™¨é«˜æ‰‹å®æˆ˜ã€‹ç¬”è®°</title>
    <link>https://example.com/container-travel-lesson-01/</link>
    <pubDate>Sun, 26 Dec 2021 13:40:08 &#43;0800</pubDate>
    <author>Author</author>
    <guid>https://example.com/container-travel-lesson-01/</guid>
    <description><![CDATA[èƒŒæ™¯ æœ€è¿‘åœ¨æ¥è§¦ã€Šå®¹å™¨é«˜æ‰‹å®æˆ˜ã€‹è¿™é—¨è¯¾ï¼Œä½œä¸ºæœ‰ä¸€å®šå®¹å™¨ç»éªŒçš„å·¥ç¨‹å¸ˆï¼Œä»è¿™ä¸ªè§†è§’ä¸‹ï¼Œæˆ‘ä¼šè®°å½•ä¸€äº›éåŸºç¡€çš„ï¼Œä½†æ˜¯ä¸æ˜¯éœ€è¦å›çœ‹ä¸€çœ¼çš„è¯¾ç¨‹ç¬”è®°ï¼Œç”¨äºåˆ†äº«ã€‚
è¯¾ç¨‹ç›¸å…³æºç åŠç¬”è®°æˆ‘æ”¾åœ¨è¿™ä¸ªè¿™ä¸ªé“¾æ¥ä¸­, æ¬¢è¿ fork &amp; comment~
ã€Šå®¹å™¨é«˜æ‰‹å®æˆ˜è¯¾ç¨‹ã€‹ æºç åŠç¬”è®°, å…±åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼Œä¸‹é¢å°†é€ä¸€ä»‹ç»ï¼Œ
 Cpu å†…å­˜ æ–‡ä»¶ç³»ç»Ÿ ä¸€å·è¿›ç¨‹ å®¹å™¨ç½‘ç»œ å®¹å™¨ debug å·¥å…· å®¹å™¨å®‰å…¨  å®¹å™¨ load Load Average ç­‰äºå•ä½æ—¶é—´å†…æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹åŠ ä¸Šå¯è¿è¡Œé˜Ÿåˆ—çš„è¿›ç¨‹
ç¬¬ä¸€ï¼Œä¸è®ºè®¡ç®—æœº CPU æ˜¯ç©ºé—²è¿˜æ˜¯æ»¡è´Ÿè½½ï¼ŒLoad Average éƒ½æ˜¯ Linux è¿›ç¨‹è°ƒåº¦å™¨ä¸­å¯è¿è¡Œé˜Ÿåˆ—ï¼ˆRunning Queueï¼‰é‡Œçš„ä¸€æ®µæ—¶é—´çš„å¹³å‡è¿›ç¨‹æ•°ç›®ã€‚
ç¬¬äºŒï¼Œè®¡ç®—æœºä¸Šçš„ CPU è¿˜æœ‰ç©ºé—²çš„æƒ…å†µä¸‹ï¼ŒCPU Usage å¯ä»¥ç›´æ¥åæ˜ åˆ°&quot;load average&quot;ä¸Šï¼Œä»€ä¹ˆæ˜¯ CPU è¿˜æœ‰ç©ºé—²å‘¢ï¼Ÿå…·ä½“æ¥è¯´å°±æ˜¯å¯è¿è¡Œé˜Ÿåˆ—ä¸­çš„è¿›ç¨‹æ•°ç›®å°äº CPU ä¸ªæ•°ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå•ä½æ—¶é—´è¿›ç¨‹ CPU Usage ç›¸åŠ çš„å¹³å‡å€¼åº”è¯¥å°±æ˜¯&quot;load average&quot;çš„å€¼ã€‚
ç¬¬ä¸‰ï¼Œè®¡ç®—æœºä¸Šçš„ CPU æ»¡è´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œè®¡ç®—æœºä¸Šçš„ CPU å·²ç»æ˜¯æ»¡è´Ÿè½½äº†ï¼ŒåŒæ—¶è¿˜æœ‰æ›´å¤šçš„è¿›ç¨‹åœ¨æ’é˜Ÿéœ€è¦ CPU èµ„æºã€‚è¿™æ—¶&quot;load average&quot;å°±ä¸èƒ½å’Œ CPU Usage ç­‰åŒäº†ã€‚
æ¯”å¦‚å¯¹äºå•ä¸ª CPU çš„ç³»ç»Ÿï¼ŒCPU Usage æœ€å¤§åªæ˜¯æœ‰ 100%ï¼Œä¹Ÿå°± 1 ä¸ª CPUï¼›è€Œ&quot;load average&quot;çš„å€¼å¯ä»¥è¿œè¿œå¤§äº 1ï¼Œå› ä¸º&quot;load average&quot;çœ‹çš„æ˜¯æ“ä½œç³»ç»Ÿä¸­å¯è¿è¡Œé˜Ÿåˆ—ä¸­è¿›ç¨‹çš„ä¸ªæ•°ã€‚]]></description>
</item><item>
    <title>ä» Facebook æ•…éšœå¼€å§‹æ¢ç´¢ BGP å·¥å…·ä½¿ç”¨</title>
    <link>https://example.com/tools-to-explore-bgp/</link>
    <pubDate>Tue, 16 Nov 2021 11:46:09 &#43;0800</pubDate>
    <author>Author</author>
    <guid>https://example.com/tools-to-explore-bgp/</guid>
    <description><![CDATA[èƒŒæ™¯ ä¸Šä¸ªæœˆï¼ŒFacebook å‘ç”Ÿäº†ä¸€æ¬¡ç”± BGP å¼•èµ·çš„å¤§å‹æ•…éšœï¼Œä»æ•…éšœæŠ¥å‘Š ä¸­æˆ‘ç¡®å®çœ‹å¾—äº‘é‡Œé›¾é‡Œã€‚æ‰€ä»¥è¿‘æœŸé˜…è¯»ä¸€äº›æ–‡ç« ï¼ŒæœŸæœ›æ·±å…¥å­¦ä¹ ã€‚
è¿™ç¯‡åšæ–‡å°†ä¼šåˆ†äº«ä¸€äº›æˆ‘å¦‚ä½•å­¦ä¹  BGP çš„è¿‡ç¨‹åŠç”¨æ¥æŸ¥è¯¢ BGP ä¿¡æ¯çš„ç›¸å…³å·¥å…·ä½¿ç”¨ã€‚å› ä¸ºæˆ‘å¯¹ BGP ä¸æ˜¯é‚£ä¹ˆäº†è§£ï¼Œæ•…æ–‡ç« éš¾å…æœ‰ä¸ç²¾ç¡®çš„éƒ¨åˆ†ï¼Œå¸Œæœ›å¤šå¤šäº¤æµã€‚
BGP æ¢ç´¢ä¹‹è·¯ å¦‚ä½•å‘å¸ƒBGPè·¯ç”± ä¹‹å‰æˆ‘ä»æ²¡æœ‰å¼€å§‹æ¥è§¦ BGP çš„åŸå› ä¹‹ä¸€æ˜¯&ndash;æˆ‘ä¸çŸ¥é“å¦‚ä½•åœ¨æˆ‘çš„æœåŠ¡å™¨ä¸Šé€šè¿‡ BGP å‘å¸ƒè·¯ç”±ã€‚
å¯¹äºå¤§å¤šæ•°ç½‘ç»œåè®®ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œéƒ½å¯ä»¥æŠ˜è…¾ï¼Œè‡ªå·±å®ç°åè®®ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ã€‚
  å‘è¡Œä½ è‡ªå·±çš„TLSè¯ä¹¦
  ç¼–å†™ä½ è‡ªå·±çš„HTTPæœåŠ¡å™¨
  ç¼–å†™ä½ è‡ªå·±çš„TCPå®ç°
  ä¸ºä½ çš„åŸŸåç¼–å†™ä½ è‡ªå·±çš„æƒå¨DNSæœåŠ¡å™¨
  å»ºç«‹ä½ è‡ªå·±çš„è¯ä¹¦é¢å‘æœºæ„
  ä½†å¯¹äºBGPï¼Œæˆ‘è®¤ä¸ºé™¤éä½ æ‹¥æœ‰è‡ªå·±çš„ ASNï¼Œå¦åˆ™ä¸èƒ½è‡ªå·±å‘å¸ƒè·¯ç”±ï¼Œå°½ç®¡å¯èƒ½å¯ä»¥åœ¨ä½ çš„å®¶åº­ç½‘ç»œä¸Šå®ç°BGPï¼Œä½†æˆ‘å¸Œæœ›å®ƒä»¬è¿è¡Œåœ¨çœŸæ­£çš„äº’è”ç½‘ä¸Šã€‚
äºæ˜¯æˆ‘å¼€å§‹ç€æ‰‹äºå¦‚ä½•åœ¨æˆ‘çš„æœåŠ¡å™¨ä¸Šå‘å¸ƒ BGP è·¯ç”±ã€‚
é¦–å…ˆæˆ‘ä»¬æ¥è°ˆè°ˆ BGP çš„ä¸€äº›æœ¯è¯­ã€‚è¿™éƒ¨åˆ†æˆ‘ä¼šç®€å•çš„ä»‹ç»ï¼Œå› ä¸ºæˆ‘å¯¹å·¥å…·æ›´æ„Ÿå…´è¶£ï¼Œè€Œä¸”ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äº BGP çš„é«˜æ°´å¹³èµ„æ–™ï¼ˆæ¯”å¦‚ cloudflare çš„è¿™ç¯‡å¸–å­ï¼‰ã€‚
ä»€ä¹ˆæ˜¯ ASï¼ˆautonomous systemï¼‰ï¼Ÿ æˆ‘ä»¬éœ€è¦äº†è§£çš„ç¬¬ä¸€ä»¶æœ¯è¯­æ˜¯ ASã€‚æ¯ä¸€ä¸ª AS éƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
å‚è€ƒè¿™ç¯‡ç»´åŸºç™¾ç§‘, ä»–ä»¬æœ‰ä»¥ä¸‹ç‰¹å¾ï¼Œ
  ç”±ä¸€ä¸ªç»„ç»‡æ‹¥æœ‰çš„ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¤§å‹ç»„ç»‡ï¼Œå¦‚ä½ çš„ISPï¼Œæ”¿åºœï¼Œå¤§å­¦ï¼ŒFacebookï¼Œç­‰ç­‰ï¼‰
  ä»–ä»¬èƒ½æ§åˆ¶ä¸€ç»„ç‰¹å®šçš„ IP åœ°å€ï¼ˆä¾‹å¦‚ï¼Œæˆ‘çš„ ISP çš„ AS åŒ…æ‹¬ 247,808 ä¸ªIPåœ°å€ï¼‰ã€‚]]></description>
</item><item>
    <title>Kube-scheduler è°ƒåº¦æ¨¡å‹ä¸ç¾å›¢æœ¬åœ°åŒ–æ”¹é€ </title>
    <link>https://example.com/kubernetes-scheduler-modified-in-meituan/</link>
    <pubDate>Sat, 09 Oct 2021 09:57:53 &#43;0800</pubDate>
    <author>Author</author>
    <guid>https://example.com/kubernetes-scheduler-modified-in-meituan/</guid>
    <description><![CDATA[èƒŒæ™¯ ä»Šå¤©ä¸»è¦åˆ†äº«ä¸‹æˆ‘åœ¨ç¾å›¢ Hulk å›¢é˜Ÿè°ƒåº¦ç³»ç»Ÿç»„æœŸé—´å­¦ä¹ åˆ°çš„ k8s scheduler è°ƒåº¦æ¨¡å‹åŠç¾å›¢å¯¹äºè°ƒåº¦å™¨ç›¸å…³æ”¹é€ 
Hulk å›¢é˜Ÿä»‹ç» Hulk æ˜¯ç¾å›¢è´Ÿè´£å®¹å™¨äº‘å¹³å°çš„å›¢é˜Ÿ, æˆ‘æ‰€åœ¨çš„ç»„æ˜¯è°ƒåº¦ç³»ç»Ÿç»„ä¸‹é¢çš„ k8s å°ç»„. ä¸»è¦è´Ÿè´£æ‰€æœ‰ k8s ç›¸å…³ç»„ä»¶å¼€å‘ç»´æŠ¤.
Kube-scheduler è°ƒåº¦æ¨¡å‹ä»‹ç» (æœ¬æ¬¡ä»‹ç»åŸºäº k8s 1.16 ç‰ˆæœ¬)
pod æ˜¯ k8s å·¥ä½œè´Ÿè½½çš„æœ€å°å®ä½“ï¼Œä¹Ÿæ˜¯ scheduler è°ƒåº¦çš„ä¸»è¦å¯¹è±¡ã€‚
k8s è°ƒåº¦å™¨æ‰€åšçš„å·¥ä½œï¼Œå³å°† pod ç»‘å®šåˆ°æŒ‡å®šèŠ‚ç‚¹ä¸Šï¼Œä¸º pod é€‰æ‹©åˆé€‚çš„èŠ‚ç‚¹ã€‚
Scheduler ä¼šå…ˆ watch apiserver è·å–å…¶ä¸­å¾…è°ƒåº¦çš„ pod, å³ pod.spec.nodeName å­—æ®µä¸ºç©ºçš„ pod å¯¹è±¡, é€šè¿‡è°ƒç”¨ pod informer çš„ handler å¹¶å°†è¯¥ pod åŠ å…¥è°ƒåº¦é˜Ÿåˆ—ä¸­ã€‚
é»˜è®¤æƒ…å†µä¸‹, k8s è°ƒåº¦é˜Ÿåˆ—æ˜¯ä¸€ä¸ª PriorityQueue, å¹¶ä¸”å½“æŸäº›é›†ç¾¤ä¿¡æ¯å‘ç”Ÿæ”¹å˜æ—¶, è°ƒåº¦å™¨ä¼šå¯¹è°ƒåº¦é˜Ÿåˆ—çš„å†…å®¹è¿›è¡Œä¸€äº›ç‰¹æ®Šæ“ä½œ. åœ¨è¿™å„¿ä¸è®ºè¿°.
ä¸€æ¬¡è°ƒåº¦è¿‡ç¨‹åœ¨åˆ¤æ–­ä¸€ä¸ª Nodeæ˜¯å¦å¯ä½œä¸ºç›®æ ‡æœºå™¨æ—¶ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š
 Predicates é¢„é€‰é˜¶æ®µï¼šç¡¬æ€§æ¡ä»¶ï¼Œè¿‡æ»¤æ‰ä¸æ»¡è¶³æ¡ä»¶çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º Predicatesã€‚è¿™æ˜¯å›ºå®šå…ˆåé¡ºåºçš„ä¸€ç³»åˆ—è¿‡æ»¤æ¡ä»¶ï¼Œä»»ä½•ä¸€ä¸ª Predicate ä¸ç¬¦åˆåˆ™æ”¾å¼ƒè¯¥ Nodeã€‚ Prioritites ä¼˜é€‰é˜¶æ®µï¼šè½¯æ€§æ¡ä»¶ï¼Œå¯¹é€šè¿‡çš„èŠ‚ç‚¹æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œç§°ä¹‹ä¸º Prioritiesã€‚æ¯ä¸€ä¸ª Priority éƒ½æ˜¯ä¸€ä¸ªå½±å“å› ç´ ï¼Œéƒ½æœ‰ä¸€å®šçš„æƒé‡ã€‚ Select é€‰å®šé˜¶æ®µï¼šä»ä¼˜é€‰åˆ—è¡¨ä¸­é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„èŠ‚ç‚¹ï¼Œç§°ä¸º Selectã€‚é€‰æ‹©çš„ Node å³ä¸ºæœ€ç»ˆéƒ¨ç½² Pod çš„æœºå™¨ã€‚  é¢„é€‰é˜¶æ®µ Scheduler èµ· n ä¸ª goroutine å¹¶å‘å¯¹æ•´ä¸ªé›†ç¾¤çš„æ‰€æœ‰ nodes è¿›è¡Œ predicates ä¸²è¡Œè¿ç®—è¿‡æ»¤è§„åˆ™ï¼Œç›´åˆ°æœ€ç»ˆè¿‡æ»¤å‡ºç¬¦åˆæ¡ä»¶çš„ nodes åˆ—è¡¨]]></description>
</item><item>
    <title>åŸºäºæœåŠ¡ç”»åƒçš„å‚ç›´ä¼¸ç¼©ç³»ç»Ÿå»ºè®¾æ€è€ƒ</title>
    <link>https://example.com/service-portrait-vpa-design/</link>
    <pubDate>Tue, 28 Sep 2021 19:51:32 &#43;0800</pubDate>
    <author>Author</author>
    <guid>https://example.com/service-portrait-vpa-design/</guid>
    <description><![CDATA[<div style="text-align: right;">Lexus Lee</div>
<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>è¿‘æœŸå…¬å¸å¼€å§‹åšæˆæœ¬æ²»ç†, é™æœ¬å¢æ•ˆ. é€šè¿‡è§‚å¯Ÿä»¥å¾€å„ä¸šåŠ¡çº¿çš„èµ„æºè§„æ ¼é…ç½®, ä¸éš¾å‘ç°å­˜åœ¨å¤§é‡æœåŠ¡èµ„æºè¶…é…æƒ…å†µ. å³æœåŠ¡å®é™…èµ„æºå¼€é”€è¿œå°äºå…¶å£°æ˜çš„èµ„æºå¼€é”€. è€Œè¿™éƒ¨åˆ†çš„èµ„æºè¶…é…ç›´æ¥å¯¼è‡´äº†é›†ç¾¤çš„èµ„æºä½¿ç”¨ç‡è¾ƒä½. é€šå¸¸å½¢å¦‚ä¸‹å›¾</p>]]></description>
</item><item>
    <title>eBPF learning 01</title>
    <link>https://example.com/ebpf-leanring1/</link>
    <pubDate>Mon, 13 Jan 2020 18:26:09 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://example.com/ebpf-leanring1/</guid>
    <description><![CDATA[(è¯‘) eBPF Tracing ç®€æ˜æ•™ç¨‹ä¸ç¤ºä¾‹ èƒŒæ™¯    åŸæ–‡é“¾æ¥ http://www.brendangregg.com/blog/2019-01-01/learn-ebpf-tracing.html     åŸæ–‡ä½œè€… Brendan Gregg   å‡ºç‰ˆæ—¶é—´ 01 Jan 2019   ç¿»è¯‘æ—¶é—´ 11 Jan 2020    ä¹‹å‰å¼€ 2019 ShangHai KubeConf å¬äº†å‡ åœº eBPF çš„åˆ†äº«, æœ€è¿‘æ‰å¼€å§‹æ·±å…¥ç ”ç©¶, æ•…æ‰“ç®—æŠŠç ”ç©¶ Linux performance çš„å¤§ä½¬ Brendan Gregg çš„æ–‡ç« ã€ŠLearn eBPF Tracing: Tutorial and Examplesã€‹ ä½œä¸º eBPF å…¥é—¨ç¿»è¯‘ä¸€é, å¸Œæœ›å¯¹å…¶ä»–éè‹±è¯­æ¯è¯­çš„å¼€å‘è€…æœ‰å¸®åŠ©ã€‚
è¯‘æ–‡ åœ¨ 2019 å¹´çš„ Linux Plumber&rsquo;s å¤§ä¼šä¸Šè‡³å°‘æœ‰ 24 åœºå…³äº eBPF çš„è®²åº§, eBPF è¿…é€Ÿåœ°æˆä¸ºäº†ç‚™æ‰‹å¯çƒ­çš„æŠ€æœ¯ã€‚æ‰€ä»¥ä¹Ÿè®¸ä½ ä¹Ÿè®¡åˆ’åœ¨æ–°çš„ä¸€å¹´é‡Œå¼€å§‹å­¦ä¹  eBPF!]]></description>
</item><item>
    <title>Talk about Kubernetes cronJob controller</title>
    <link>https://example.com/talk-about-k8s-cronjob/</link>
    <pubDate>Sat, 14 Dec 2019 13:57:32 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://example.com/talk-about-k8s-cronjob/</guid>
    <description><![CDATA[èƒŒæ™¯ ä¹‹å‰ä¸€æ®µæ—¶é—´æ­£å¥½æ¥è§¦åˆ° kubernetes cronjob, åœ¨æ¥å…¥æ—¶é‡ä¸Šäº†åœ¨ä¸€å®šé‡çº§ä¸‹ cronjob schedule delay çš„é—®é¢˜, æ•…å¼€å§‹è¯»äº†ä¸‹ä»£ç , å‘ç°äº†ä¸€äº›é—®é¢˜å¹¶è¯•ç€è°ƒä¼˜äº†ä¸‹
å­˜åœ¨çš„é—®é¢˜ æŒ‰ç”Ÿäº§ç¯å¢ƒå®é™…æµ‹è¯•æ¥çœ‹çº¦ 250-375 ä¸ª */1 * * * * æ¯åˆ†é’Ÿ interval çš„ cronjob å°±ä¼šäº§ç”Ÿ delay, cronjob å’Œ controller manager æ²¡æœ‰å¼‚å¸¸ event ä½†æ–°äº§ç”Ÿçš„ job å‡ºç°äº†å»¶è¿Ÿ, ç”±äºæˆ‘ä»¬è®¾ç½®äº† startingDeadlineSeconds æ•…ç´¯åŠ èµ·æ¥çš„ delay æœ€ç»ˆå¯¼è‡´äº† cron ä»»åŠ¡ä¸¥é‡æ»å
ä»£ç è§£è¯» å‡ºäºåˆ†æä¸Šè¿°é—®é¢˜çš„ç›®çš„, è¯»äº†ä¸‹ cronjob controller çš„ä»£ç , ä»£ç é‡ä¸å¤š, å¯èƒ½ç”±äºæ²¡ä¸Š GA çš„åŸå› , æ•´ä¸ª controllor ä»£ç çš„è®¾è®¡ä¹Ÿæ¯”è¾ƒè¿‡ç¨‹å¼, ä¸ä¼šåƒå…¶ä»–ç»„ä»¶ç”¨åˆ°ä¸€äº›æ¯”å¦‚ Informer, refractorä¹‹ç±»çš„ç»„ä»¶è¯»èµ·æ¥ç›¸å¯¹æ™¦æ¶©
ä¸‹é¢å¼€å§‹è§£è¯»ä¸‹ release1.17 åˆ†æ”¯çš„ k8s cronjob controller ä»£ç 
 Controller struct  1 2 3 4 5 6 7  type Controller struct { kubeClient clientset.]]></description>
</item><item>
    <title>è®°ä¸€æ¬¡å‡çº§ kube-proxy ipvs å¼•å‘çš„çº¿ä¸Šæ•…éšœ</title>
    <link>https://example.com/kubeproxy-ipvs-accident/</link>
    <pubDate>Mon, 29 Apr 2019 19:10:46 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://example.com/kubeproxy-ipvs-accident/</guid>
    <description><![CDATA[èƒŒæ™¯ æœ€è¿‘åœ¨å‡çº§é›†ç¾¤çš„ kube-prxoy å¹¶å¼€å¯ ipvs mode, å¼•å‘äº†ä¸€äº›çº¿ä¸Šæ•…éšœ
æ›¿æ¢åŸå›  ç”±äºè±†ç“£çš„é›†ç¾¤ä½¿ç”¨ calico + kube-proxy iptables mode + puppet iptable è„šæœ¬ç®¡ç†
ä¸‰ä¸ªç»„ä»¶å…±åŒæ“ä½œåŒä¸€ä»½ iptables, å®¹æ˜“å‡ºç° race condition é—®é¢˜, å¹¶ä¸”è¿˜ä¼šäº’ç›¸æŠ¢å  iptables é”, æ˜¯ä¸ª Mutex unsafe çš„æ“ä½œ, ä¸æ˜“äºç»´æŠ¤.
æ•…æ‰“ç®—å°½é‡å‡å°‘æ“ä½œ iptables çš„éƒ¨åˆ†, æ›¿æ¢æˆ ipvs
äº‹æ•…å›æº¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  @400000005cbea9a81eaf9164 W0423 13:58:54.514773 14016 server.go:195] WARNING: all flags other than --config, --write-config-to, and --cleanup are deprecated.]]></description>
</item><item>
    <title>æµ…è°ˆ k8s service&amp;kube-proxy</title>
    <link>https://example.com/k8s-service-endpoints/</link>
    <pubDate>Fri, 14 Sep 2018 19:10:46 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://example.com/k8s-service-endpoints/</guid>
    <description><![CDATA[<div style="text-align: right;">Lexus Lee</div>
<h3 id="èƒŒæ™¯">èƒŒæ™¯</h3>
<p>æœ€å¼€å§‹å¬åˆ°åŒäº‹ k8s åˆ†äº«æ—¶æ¯”è¾ƒå›°æƒ‘æˆ‘çš„ä¸€ä¸ªé—®é¢˜æ˜¯ k8s æ€ä¹ˆå®ç°ä¸€ä¸ªç§æœ‰ ip(è™šæ‹Ÿ ipï¼Œä»¥ä¸‹ç®€ç§° vip)åˆ°å¦ä¸€ä¸ªç§æœ‰ipæ”¶å‘åŒ…çš„ã€‚</p>
<p>ä¸è¿‡å…¶å®æˆ‘æƒ³çŸ¥é“çš„åº”è¯¥æ˜¯ k8s é€šä¿¡æœºåˆ¶ï¼Œå®ƒæ˜¯æ€ä¹ˆå®ç°æœåŠ¡å‘ç°çš„ï¼Œæ–°å»ºçš„ pod æ˜¯æ€ä¹ˆæ„ŸçŸ¥åˆ°çš„ï¼Œä¸‡ä¸€æœ‰äº› pod èŠ‚ç‚¹å˜æ›´ vip å˜äº† k8s æ˜¯å¦‚ä½•æ„ŸçŸ¥çš„ã€‚</p>
<p>åŸºäºè¿™ä¸ªé—®é¢˜ï¼Œåšä¸€ä¸‹å…³äº k8s service&amp;kube-proxy çš„åˆ†äº«ã€‚</p>]]></description>
</item><item>
    <title>è®°ä¸€æ¬¡ postgresql æ–¯å˜‰ä¸½çº¦ç¿°é€Šæ”»å‡»çš„æ’æŸ¥</title>
    <link>https://example.com/scarllet-sql-attack/</link>
    <pubDate>Sat, 11 Aug 2018 22:49:52 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://example.com/scarllet-sql-attack/</guid>
    <description><![CDATA[<h3 id="èƒŒæ™¯">èƒŒæ™¯</h3>
<p>ä»Šå¤©ä¸‹åˆè¿ç»­æ”¶åˆ°äº†è…¾è®¯äº‘ CPU overload æŠ¥è­¦</p>
<p></p>
<p>ç™»æœåŠ¡å™¨ä¸€çœ‹, æœ‰ä¸ª postgres è´¦æˆ·è·‘çš„è¿›ç¨‹æŠŠ CPU å æ»¡äº†ï¼Œè¿›ç¨‹åç‰¹åˆ«å¥‡æ€ªã€‚</p>
<p></p>]]></description>
</item></channel>
</rss>
